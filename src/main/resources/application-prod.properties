# Production 환경용 설정 파일
# Docker Compose Deploy에서 SPRING_PROFILES_ACTIVE=prod로 설정됨

# --- MySQL 데이터베이스 설정 (Production 환경) ---
# Docker Compose에서 mysql 컨테이너 이름으로 접근
spring.datasource.url=jdbc:mysql://mysql:3306/ygkoibitodocker?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.datasource.username=yoogiscloset
spring.datasource.password=0000

# --- JPA 및 Hibernate 설정 (Production 환경) ---
# Production 환경에서는 update 모드 사용 (데이터 보존)
spring.jpa.hibernate.ddl-auto=update

# Production 환경에서는 SQL 로그 최소화
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# SQL 초기화 스크립트 설정
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:sql/init_database.sql

# --- 로깅 설정 (Production 환경) ---
# Production 환경에서는 로그 레벨 조정
logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.tool.schema=INFO
logging.level.com.example.yoogiscloset=INFO

# --- Selenium 설정 (Production 환경) ---
# Production 환경에서는 RemoteWebDriver 사용
selenium.use.remote=true
selenium.hub.url=http://selenium:4444/wd/hub

# --- Production 환경 최적화 설정 ---
# 메모리 사용량 최적화
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10
